/*!
 * Perimeter.js 0.3.0 (2017-01-31, 14:35)
 * https://github.com/e-sites/perimeter.js
 * MIT licensed
 *
 * Copyright (C) 2017 e-sites, http://e-sites.nl/
 */
(function(t,e,i){"use strict";function o(t,e,i){return t.addEventListener?(t.addEventListener(e,i,!1),!0):t.attachEvent?t.attachEvent("on"+e,i):!1}function n(t){return t&&t.target&&t.outline?this instanceof n?(this.options=t,this.breaches=[],this.alarm=!1,this.outline=this.formatOutline(t.outline),this.target="string"==typeof t.target?s.getElementById(t.target):t.target,this.boundary=null,this.rects=this.getClientRect(this.target),this.monitor=new this.Monitor(this),this.init(t)):new n(t):i}var r=t,s=e,h=s.documentElement,l=s.body,a=[];n.prototype.getScrollPos=function(){return{top:h.scrollTop||l.scrollTop,left:h.scrollLeft||l.scrollLeft}},n.prototype.getClientRect=function(t){var e,o=this.getScrollPos();if(t.getBoundingClientRect===i)throw Error("Perimeter.js detected that your browser does not support getBoundingClientRect");return e=t.getBoundingClientRect(),{width:e.width||t.offsetWidth,height:e.height||t.offsetHeight,top:e.top+o.top-h.clientTop,left:e.left+o.left-h.clientLeft}},n.prototype.recalculate=function(){var t,e;if(this instanceof n)this.outline=this.formatOutline(this.outline),this.options.debug&&this.boundary&&this.boundary.reflow();else for(e=a.length;e--;)t=a[e],t.rects=t.getClientRect(t.target),t.options.debug&&t.boundary&&t.boundary.reflow()},n.prototype.trigger=function(t,e){e||(e=typeof i);var o={breach:this.options.onBreach,leave:this.options.onLeave};o.hasOwnProperty(t)&&o[t]instanceof Function&&o[t].apply(this,[e])},n.prototype.formatOutline=function(t){for(var e=[],i=0;4>i;)isNaN(t)?e.push(t[i]?parseInt(t[i],10):0):e.push(parseInt(t,10)),i++;return e},n.prototype.init=function(t){this.target&&(a.push(this),t.debug&&this.Boundary!==i&&(this.boundary=new this.Boundary(this)),o(t.monitor||s,"mousemove",this.monitor.observe),o(r,"resize",this.recalculate),o(s,"DOMMouseScroll",this.monitor.observe),o(s,"mousewheel",this.monitor.observe))},r.Perimeter=n})(window,window.document),function(t,e){"use strict";t.prototype.Monitor=function(t){var i=this;return this.event=null,this.detect=function(e){var i=t.outline,o=t.target,n=this.event.clientX,r=this.event.clientY,s=t.getScrollPos(),h=parseInt(o.offsetTop-s.top-i[0],10),l=parseInt(o.offsetLeft-s.left-i[3],10);switch(e){case"breach":r>=h&&h+t.rects.height+(i[0]+i[2])>r&&n>=l&&l+t.rects.width+(i[1]+i[3])>n&&(t.breaches.push([n,r]),t.trigger("breach",this.event),t.alarm=!0);break;case"leave":(h>r||r>h+t.rects.height+(i[0]+i[2])||l>n||n>l+t.rects.width+(i[1]+i[3]))&&(t.trigger("leave"),t.alarm=!1)}},this.observe=function(o){i.event=o||e.event,t.monitor.detect(t.alarm?"leave":"breach")},this.event}}(Perimeter,window),function(t,e){"use strict";t.prototype.Boundary=function(t){function i(e,i){var o=t.rects||t.getClientRect(e),n={};return n.width=o.width+(i[1]+i[3]),n.height=o.height+(i[0]+i[2]),n.top=o.top-i[0],n.left=o.left-i[3],n}return this.elem=null,this.create=function(){return this.elem=e.createElement("div"),this.elem.className="boundary",this.reflow(t.target,t.outline),e.body.appendChild(this.elem),this},this.reflow=function(e,o){var n,r=e||t.target;return o=t.formatOutline(o||t.outline),n=i(r,o),this.elem.style.top=n.top+"px",this.elem.style.left=n.left+"px",this.elem.style.width=n.width+"px",this.elem.style.height=n.height+"px",this},this.create()}}(Perimeter,document);