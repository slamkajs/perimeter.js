/*!
 * Perimeter.js 0.3.0 (2017-01-31, 12:19)
 * https://github.com/e-sites/perimeter.js
 * MIT licensed
 *
 * Copyright (C) 2017 e-sites, http://e-sites.nl/
 */
(function(t,e){"use strict";function i(t,e,i){return t.addEventListener?(t.addEventListener(e,i,!1),!0):t.attachEvent?t.attachEvent("on"+e,i):!1}function n(t){return t&&t.target&&t.outline?this instanceof n?(this.options=t,this.breaches=[],this.alarm=!1,this.outline=this.formatOutline(t.outline),this.target="string"==typeof t.target?r.getElementById(t.target):t.target,this.boundary=null,this.rects=this.getClientRect(this.target),this.monitor=new this.Monitor(this),this.init(t)):new n(t):undefined}var o=t,r=e,s=r.documentElement,h=r.body,l=[];n.prototype.getScrollPos=function(){return{top:s.scrollTop||h.scrollTop,left:s.scrollLeft||h.scrollLeft}},n.prototype.getClientRect=function(t){var e,i=this.getScrollPos();if(t.getBoundingClientRect===undefined)throw Error("Perimeter.js detected that your browser does not support getBoundingClientRect");return e=t.getBoundingClientRect(),{width:e.width||t.offsetWidth,height:e.height||t.offsetHeight,top:e.top+i.top-s.clientTop,left:e.left+i.left-s.clientLeft}},n.prototype.recalculate=function(){var t,e;if(this instanceof n)this.outline=this.formatOutline(this.outline),this.options.debug&&this.boundary&&this.boundary.reflow();else for(e=l.length;e--;)t=l[e],t.rects=t.getClientRect(t.target),t.options.debug&&t.boundary&&t.boundary.reflow()},n.prototype.trigger=function(t){var e={breach:this.options.onBreach,leave:this.options.onLeave};e.hasOwnProperty(t)&&e[t]instanceof Function&&e[t].apply(this,[])},n.prototype.formatOutline=function(t){for(var e=[],i=0;4>i;)isNaN(t)?e.push(t[i]?parseInt(t[i],10):0):e.push(parseInt(t,10)),i++;return e},n.prototype.init=function(t){this.target&&(l.push(this),t.debug&&this.Boundary!==undefined&&(this.boundary=new this.Boundary(this)),i(t.monitor||r,"mousemove",this.monitor.observe),i(o,"resize",this.recalculate),i(r,"DOMMouseScroll",this.monitor.observe),i(r,"mousewheel",this.monitor.observe))},o.Perimeter=n})(window,window.document),function(t,e){"use strict";t.prototype.Monitor=function(t){var i=this;return this.event=null,this.detect=function(e){var i=t.outline,n=t.target,o=this.event.clientX,r=this.event.clientY,s=t.getScrollPos(),h=parseInt(n.offsetTop-s.top-i[0],10),l=parseInt(n.offsetLeft-s.left-i[3],10);switch(e){case"breach":r>=h&&h+t.rects.height+(i[0]+i[2])>r&&o>=l&&l+t.rects.width+(i[1]+i[3])>o&&(t.breaches.push([o,r]),t.trigger("breach"),t.alarm=!0);break;case"leave":(h>r||r>h+t.rects.height+(i[0]+i[2])||l>o||o>l+t.rects.width+(i[1]+i[3]))&&(t.trigger("leave"),t.alarm=!1)}},this.observe=function(n){i.event=n||e.event,t.monitor.detect(t.alarm?"leave":"breach")},this.event}}(Perimeter,window),function(t,e){"use strict";t.prototype.Boundary=function(t){function i(e,i){var n=t.rects||t.getClientRect(e),o={};return o.width=n.width+(i[1]+i[3]),o.height=n.height+(i[0]+i[2]),o.top=n.top-i[0],o.left=n.left-i[3],o}return this.elem=null,this.create=function(){return this.elem=e.createElement("div"),this.elem.className="boundary",this.reflow(t.target,t.outline),e.body.appendChild(this.elem),this},this.reflow=function(e,n){var o,r=e||t.target;return n=t.formatOutline(n||t.outline),o=i(r,n),this.elem.style.top=o.top+"px",this.elem.style.left=o.left+"px",this.elem.style.width=o.width+"px",this.elem.style.height=o.height+"px",this},this.create()}}(Perimeter,document);